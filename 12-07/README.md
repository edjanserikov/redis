# Домашнее задание к занятию "Репликация и масштабирование. Часть 2" - `Джансериков Эдуард`

---

### Задание 1

```
Опишите основные преимущества использования масштабирования методами:

активный master-сервер и пассивный репликационный slave-сервер;
master-сервер и несколько slave-серверов;
активный сервер со специальным механизмом репликации — distributed replicated block device (DRBD);
SAN-кластер.
Дайте ответ в свободной форме.
```

```
Преимущества Master - Slave:
- Отказоустойчивость. Активный master-сервер является основным и обрабатывает операции записи, а пассивные slave-серверы являются резервными копиями данных. Если master-сервер выходит из строя, slave-сервер может быть автоматически выбран в качестве нового master-сервера, что обеспечивает высокую отказоустойчивость системы.
- Распределение нагрузки на чтение между master- и slave-серверами. Это позволяет увеличить производительность системы и обеспечить более быстрый доступ к данным.
- Резервное копирование данных. Slave-сервер работает в качестве резервной копии данных. Это обеспечивает защиту данных от потери в случае сбоя или повреждения master-сервера.
- Отделение операций чтения и записи. Разделение ролей между master- и slave-серверами позволяет сосредоточиться на выполнении операций записи на master-сервере и операций чтения на slave-сервере. Это повышает эффективность обработки запросов и улучшает производительность.
- Потенциальное увеличение производительности на запись. В случае использования асинхронной репликации, приложение может отправлять запросы на запись на master-сервер, который отвечает на них быстро, без ожидания подтверждения от slave-сервера. Это может повысить производительность на запись, особенно в случае высокой нагрузки.

Преимущества Master - Multi Slave.
- Отказоустойчивость. В случае сбоя или неполадок на одном из slave-серверов, остальные slave-серверы и master-сервер продолжают работать нормально. Это обеспечивает высокую доступность данных и приложения.
- Распределение нагрузки на чтение и запись между master- и slave-серверами. Запросы на чтение могут быть обработаны slave-серверами, тогда как операции записи выполняются на master-сервере. Это позволяет распределить нагрузку на базу данных и повысить производительность системы.
- Шкалируемость на чтение+A4. Добавление новых slave-серверов позволяет легко масштабировать систему и увеличить пропускную способность для обработки большого количества запросов на чтение. Это особенно полезно, когда требуется обработать большой объем данных и запросов от множества пользователей.
- Резервное копирование данных. Slave-серверы работают в качестве резервных копий данных, что обеспечивает дополнительный уровень защиты данных от потери.
- Географическая репликация. Slave-серверы могут быть размещены в разных географических регионах, что позволяет обслуживать пользователей из разных частей мира более эффективно. Это улучшает производительность и удовлетворение клиентов.
- Более быстрое чтение данных. Slave-серверы могут обрабатывать запросы на чтение, освобождая master-сервер от этой нагрузки. Это позволяет более быстро отвечать на запросы и повышает производительность системы.
- Более надежное выполнение операций чтения и записи. Master-Multiple Slaves репликация позволяет разделить операции чтения и записи между разными серверами. Это уменьшает возможность конфликтов и обеспечивает более надежное выполнение операций.
- Возможность балансировки нагрузки. Master-Multiple Slaves репликация позволяет балансировать нагрузку между различными slave-серверами, что позволяет оптимизировать использование ресурсов и обеспечивает более эффективное функционирование системы.

Преимущества Distributed Replicated Block Device (DRBD):
- Отказоустойчивость. DRBD обеспечивает механизм репликации данных между активным и пассивным узлами, что позволяет создать резервную копию данных. В случае сбоя активного узла, пассивный узел автоматически становится активным и продолжает обрабатывать запросы, что обеспечивает непрерывность работы приложения.
- Синхронизация данных в реальном времени. DRBD обеспечивает синхронную репликацию данных между узлами в реальном времени, что гарантирует, что данные на активном и пассивном узлах всегда согласованы. Это обеспечивает целостность данных и предотвращает возникновение потери информации при сбое.
- Высокая производительность. DRBD предоставляет эффективный механизм репликации блочных устройств, который обеспечивает высокую производительность и минимизирует задержки. Это позволяет удовлетворить требования к высокой скорости обработки данных и операций ввода-вывода.
- Простая установка и конфигурация. DRBD интегрируется в стек ядра Linux и предоставляет простой в использовании интерфейс для установки и конфигурирования. Это упрощает процесс настройки и обслуживания системы.
- Расширяемость и гибкость. DRBD поддерживает горизонтальное масштабирование, что позволяет добавлять дополнительные узлы для увеличения пропускной способности и обработки большого объема данных. Это делает систему более гибкой и адаптивной к растущим потребностям.
- Поддержка различных режимов работы. DRBD поддерживает различные режимы работы, такие как активно-пассивный режим и активно-активный режим, что позволяет настроить систему в зависимости от требований приложения.
- Открытый и свободный софт. DRBD является открытым программным обеспечением с лицензией GNU GPL, что позволяет использовать его бесплатно и получить доступ к исходному коду. Это способствует независимости от конкретных поставщиков и повышает прозрачность системы.

Преимущества SAN:
- Отказоустойчивость.SAN-кластер позволяет объединить несколько хранилищ данных в единую инфраструктуру с общим доступом к данным. Это позволяет увеличить пропускную способность и ускорить обработку операций чтения и записи.
- Масштабируемость. SAN-кластер поддерживает горизонтальное и вертикальное масштабирование, что позволяет легко добавлять новые узлы и хранилища для увеличения емкости и производительности системы.
- Высокая доступность. Сетевая архитектура SAN обеспечивает отказоустойчивость и высокую доступность данных. В случае сбоя одного узла или хранилища, данные могут быть автоматически перенесены на другой активный узел без прерывания работы приложений.
- Централизованное управление. SAN-кластер позволяет централизованно управлять хранилищами данных, что упрощает процесс администрирования и обслуживания системы.
- Гибкость в настройке. SAN-кластер поддерживает различные конфигурации и режимы работы, включая активно-пассивный и активно-активный режимы, что позволяет настроить систему в соответствии с требованиями приложений.
- Оптимизация использования ресурсов. SAN-кластер позволяет эффективно использовать ресурсы хранилища, так как данные могут быть распределены и балансированы между узлами системы.
- Поддержка различных протоколов. SAN-кластер поддерживает различные протоколы передачи данных, такие как Fibre Channel, iSCSI и FCoE, что обеспечивает гибкость в выборе сетевых подключений.
- Безопасность данных. SAN-кластер обеспечивает высокий уровень защиты данных и обеспечивает средства резервного копирования и восстановления данных.
```

---

### Задание 2

```
Разработайте план для выполнения горизонтального и вертикального шаринга базы данных. База данных состоит из трёх таблиц:

пользователи,
книги,
магазины (столбцы произвольно).
Опишите принципы построения системы и их разграничение или разбивку между базами данных.

Пришлите блоксхему, где и что будет располагаться. Опишите, в каких режимах будут работать сервера.
```

```
Горизонтальный шаринг:
Горизонтальный шаринг предполагает разделение данных горизонтально по строкам. Это означает, что каждый сервер будет хранить определенный диапазон строк данных.
Принципы построения системы:

Разделение данных: Разделить данные таблиц на группы и распределить их между разными серверами. Например, пользователей с определенными ID можно разделить на одном сервере, а пользователей с другими ID на другом сервере.
Балансировка нагрузки: Убедиться, что нагрузка на каждый сервер распределена равномерно для достижения оптимальной производительности.
Использование общей системы управления: Использовать общий сервис для управления метаданными и координирования запросов к различным серверам баз данных.
Разбивка данных:

Сервер 1:

Таблица пользователей (часть данных по ID или региону).
Сервер 2:

Таблица пользователей (оставшаяся часть данных).
Таблица книг (часть данных по ID или жанру).
Сервер 3:

Таблица книг (оставшаяся часть данных).
Таблица магазинов (часть данных по городу или региону).
Сервер 4:

Таблица магазинов (оставшаяся часть данных).
Вертикальный шаринг:
Вертикальный шаринг предполагает разделение данных вертикально по столбцам. Это означает, что каждый сервер будет хранить определенные столбцы данных из разных таблиц.

Принципы построения системы:

Разделение столбцов: Разделить столбцы таблиц на группы и распределить их между разными серверами. Например, на одном сервере будут храниться данные о пользователях (ID, имя, контактная информация), на другом — данные о книгах (ID, название, автор) и т.д.
Балансировка нагрузки: Убедиться, что нагрузка на каждый сервер распределена равномерно для достижения оптимальной производительности.
Использование общего сервиса для объединения данных: Использовать общий сервис для объединения данных из разных серверов при выполнении запросов.
Разбивка данных:

Сервер 1:
Таблица пользователей (ID, имя, контактная информация).
Сервер 2:
Таблица книг (ID, название, автор).
Сервер 3:
Таблица магазинов (ID, название, адрес).

Блок-схема системы:
```
![Задание 2](https://github.com/edjanserikov/redis/blob/main/img/BlockScheme.PNG)


```
Режимы работы серверов:

В режиме чтения: Каждый сервер может обрабатывать запросы на чтение данных из своей таблицы. Например, запросы на выборку пользователей будут обрабатываться серверами 1 и 2, а запросы на выборку книг — сервером 2.
В режиме записи: Запросы на добавление, обновление и удаление данных будут отправляться на соответствующие серверы, чтобы обновить их в соответствующих таблицах. Например, запросы на добавление нового пользователя будут отправляться на сервер 1, а запросы на обновление информации о книгах — на сервер 2.
В итоге, использование горизонтального и вертикального шаринга позволяет эффективно масштабировать базу данных, обеспечивать балансировку нагрузки и повышать производительность системы при обработке большого объема данных.
```
